# راهنمای استفاده (فارسی)

## وضعیت فعلی پروژه

این ریلیز هنوز اپ نهایی مرورگر اندروید نیست و فعلاً هسته‌ی قابل ادغام را ارائه می‌دهد:

- محاسبه ناحیه برش (Crop) از روی انتخاب کاربر
- تنظیمات AI (Provider/Prompt/Capture)
- Failover بین APIها با اولویت‌بندی
- استخراج پاسخ عددی تستی (۱ تا ۴) برای نمایش در یک بخش جداگانه و **آشکار**

## اصول مهم طراحی

- ظاهر اپ باید شبیه مرورگر پایه عادی بماند.
- قابلیت AI باید شفاف باشد (نه مخفی، نه نامرئی، نه استتار شده).
- تنظیمات AI داخل Settings قرار می‌گیرد.

## مدیریت Providerها (ChatGPT / Gemini / ...)

قابلیت پیاده‌سازی‌شده در هسته:

1. لیست Providerها با ترتیب اولویت
2. امکان مرتب‌سازی لیست
3. Retry برای هر Provider تا ۲ بار (قابل تنظیم در کد)
4. اگر Provider بعد از ۲ تلاش ناموفق جواب نداد:
   - موقتاً suspend می‌شود (در UI می‌توان خط‌خورده نشان داد)
   - سیستم به Provider بعدی می‌رود

## Promptها

- لیست Prompt template قابل نگهداری است.
- قبل از ارسال تصویر، کاربر می‌تواند:
  - یک prompt را انتخاب کند
  - یا هیچ promptی ارسال نکند

## پاسخ عددی سوالات تستی

اگر متن خروجی AI شبیه پاسخ تستی باشد، ماژول `AnswerHintExtractor` عدد گزینه (۱..۴) را استخراج می‌کند تا در یک آیتم جداگانه در UI نمایش داده شود.

## نحوه اجرا و تست

```bash
gradle :aiassistant-core:test
```

اگر خطای Java/Gradle داشتید:

```bash
JAVA_HOME=<path-to-jdk21> gradle :aiassistant-core:test
```

## برنامه آپدیت در آینده

این فایل همراه با `README.md` و `RELEASE_NOTES.md` در تغییرات بعدی به‌روزرسانی می‌شود.
